let loader='<tr><td colspan="7" class="tc"><div class="tt-loader"><div></div><div></div><div></div></div></td></tr>',docHeight=0,vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);function resize(e=!1){var t=document.getElementById("content").offsetHeight;10<Math.abs(docHeight-t)&&(docHeight=t,parent.postMessage((e?"avionioHeightScroll:":"avionioHeight:")+docHeight,"*"))}function localTime(){var n=document.getElementById("tt-local-time");if(n){let e=n.querySelector("span"),t=(new Date).getTime()-Date.parse(n.dataset.date);setInterval(function(){e.innerText=new Date((new Date).getTime()-t).toTimeString().split(" ")[0]},1e3)}}function checkClass(e,t){if(e.target)return e.target.classList.contains(t)?e.target:(closest=e.target.closest("."+t))||void 0}function documentOnClick(i){if(el=checkClass(i,"tt-child-count")){i.preventDefault(),el.classList.toggle("expanded");let e=el.parentNode.parentNode,t=e.nextElementSibling;for(e.classList.toggle("active");null!==t&&t.classList.contains("tt-child");)t.classList.toggle("active"),t=t.nextElementSibling}else if(el=checkClass(i,"prev-flights")){i.preventDefault();let t=el.closest("tr"),n=document.documentElement||document.body,l=n.scrollTop-(n.scrollHeight-n.clientHeight);t.classList.add("hidden"),t.insertAdjacentHTML("afterend",loader),fetch(el.getAttribute("href")).then(e=>e.text()).then(function(e){e=(new DOMParser).parseFromString(e,"text/html"),e.getElementById("tt-nav-next").remove(),t.nextElementSibling.remove(),t.remove(),document.querySelector("table.tt tbody").insertAdjacentHTML("afterbegin",e.querySelector("table.tt tbody").innerHTML),resize(!0),e=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);e<vh+10&&(n.scrollTop=l+n.scrollHeight-n.clientHeight)}).catch(function(e){t.classList.remove("hidden"),t.nextElementSibling.remove(),console.log("Failed to fetch page: ",e)})}else if(el=checkClass(i,"next-flights")){i.preventDefault();let t=el.closest("tr");t.classList.add("hidden"),t.insertAdjacentHTML("afterend",loader),fetch(el.getAttribute("href")).then(e=>e.text()).then(function(e){e=(new DOMParser).parseFromString(e,"text/html");e.getElementById("tt-nav-prev").remove(),t.nextElementSibling.remove(),t.remove(),document.querySelector("table.tt tbody").insertAdjacentHTML("beforeend",e.querySelector("table.tt tbody").innerHTML),resize(!1)}).catch(function(e){t.classList.remove("hidden"),t.nextElementSibling.remove(),console.log("Failed to fetch page: ",e)})}else{var e,t;(el=checkClass(i,"dsv"))?((e=el.closest(".dropdown-select")).dataset.value=el.dataset.value,e.querySelector(".dropdown-button span").innerText=el.innerText,e.blur()):(el=checkClass(i,"tt-go"))&&(i.preventDefault(),e=document.getElementById("tt-date").dataset.value,i=document.getElementById("tt-time").dataset.value,t=60*(new Date).getTimezoneOffset()*1e3,e=Date.parse(e+" "+i)-t,t=(i=el.getAttribute("href")).includes("?")?"&":"?",window.location.href=i+t+"ts="+e)}}document.addEventListener("click",documentOnClick,!0),window.onresize=resize(!1),window.onload=resize(!1),localTime();